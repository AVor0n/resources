## Введение в HTML

«Так что же это за шаблон?» — можете спросить вы.

Шаблон — это файл, который вы можешь использовать повторно для отображения различной информации в заданном формате; например, вы можете использовать шаблон, чтобы упростить написание письма, поскольку письма хоть и различаются по содержанию и получателю, но сохраняют общую структуру.

Шаблоны в Django написаны на языке, называемом HTML (это тот HTML, о котором было упоминание в первой главе __Как работает Интернет__).

### Что такое HTML?

HTML — это простой код, который может быть интерпретирован вашим браузером — таким как Chrome, Firefox или Safari — чтобы отобразить веб-страницу пользователю.

HTML (от англ. "HyperText Markup Language") — язык гипертекстовой разметки. __Гипертекст__ — это тип текста, поддерживающий гиперссылки между страницами. Под __разметкой__ понимается введение в текст документа кода, который будет говорить браузеру (в нашем случае), как интерпретировать веб-страницу. HTML код строится при помощи __тегов__, каждый из которых должен начинаться с `<` и заканчиваться `>`. Эти теги представляют __элементы__ разметки.

### Ваш первый шаблон!

Создание шаблона означает создание файла шаблона. Всё есть файл, верно? Вы уже наверняка заметили это.

Шаблоны сохраняются в директории `blog/templates/blog`. Для начала создайте директорию `templates` внутри папки blog. Затем создайте другую директорию `blog` внутри папки templates:

```
blog
└───templates
    └───blog
```

(Вы, вероятно, можете задаться вопросом: зачем нам нужны две директории с одинаковым названием `blog` — как вы узнаете позже, это просто удобное соглашение об именовании, которое делает жизнь проще, когда вещи серьезно усложняются.)

Теперь создайте файл `post_list.html` (для начала оставьте его пустым) внутри директории `blog/templates/blog`.

Посмотрите как выглядит ваш веб-сайт после этого: http://127.0.0.1:8000/

> Если вам всё ещё встречает ошибка `TemplateDoesNotExists`, попробуйте перезапустить сервер. Перейдите в командную строку, остановите веб-сервер нажатием Ctrl+C (Ctrl и С одновременно) и запустите его снова командой `python manage.py runserver`.

![Рисунок 11.1][1]

 [1]: https://user-images.githubusercontent.com/4215285/72189937-454c3f00-340f-11ea-864b-6df0de8f9332.png

Ошибки больше нет! Поздравляем :) Однако ваш веб-сайт всё равно ничего не отображает, кроме пустой страницы, поскольку ваш шаблон пуст. Нам нужно это исправить.

Добавьте следующий код в файл шаблона:

```html
<html>
    <p>Hi there!</p>
    <p>It works!</p>
</html>
```

Как теперь выглядит ваш веб-сайт? Нажмите сюда, чтобы узнать: http://127.0.0.1:8000/

![Рисунок 11.2][2]

 [2]: https://user-images.githubusercontent.com/4215285/72189946-47ae9900-340f-11ea-8068-70ee9766765a.png

Заработало! Хорошая работа :)

- Наиболее базовый тег, `<html>`, всегда присутствует в начале веб-страницы, а `</html>` — в конце. Как вы можете заметить, основной контент веб-сайта находится между тегами `<html>` и `</html>`.
- `<p>` — это тег для параграфов; `</p>`, соответственно, закрывает каждый параграф.

### Head и body

Каждая HTML-страница также делится на два элемента: __head__ и __body__.

- __head__ — это элемент, содержащий информацию о документе, которая не отображается на экране.

- __body__ — это элемент, который содержит всё, что будет отражено на веб-странице.

Мы используем тег `<head>`, чтобы сообщить браузеру о настройках страницы, и тег `<body>` — о её содержимом.

Например, вы можете разместить элемент title между тегов `<head>`:

```html
<html>
    <head>
        <title>Ola's blog</title>
    </head>
    <body>
        <p>Hi there!</p>
        <p>It works!</p>
    </body>
</html>
```


Сохраните файл и обновите страницу.

![Рисунок 11.3][3]

 [3]: https://user-images.githubusercontent.com/4215285/72189959-4e3d1080-340f-11ea-87ba-37d7dc235fe2.png

Видите, как браузер понял, что «Ola's blog» — это заголовок страницы? Он распознал `<title>Ola's blog</title>` и разместил текст в заголовке вкладки в вашем браузере (заголовок также будет использоваться при сохранении закладок и т.п.).

Вероятно, вы уже заметили, что каждый открывающий тег имеет пару — *закрывающий*, с символом `/`, элементы таким образом становятся *вложенными* (вы не можете закрыть тег, пока остаются открытыми теги внутри него).

Это как складывать вещи в коробки. У нас есть одна большая коробка, `<html></html>`; внутри неё лежит коробка `<body></body>`, которая содержит еще меньшие коробки: `<p></p>`.

Вы должны следовать этим правилам *закрытия* тегов и *вложенности* элементов: если вы их нарушите, браузер не сможет интерпретировать код и корректно отобразить страницу.

### Настраиваем шаблон

Сейчас вы можете немного повеселиться и попробовать настроить шаблон по своему вкусу! Вот несколько полезных тегов:

- `<h1>Заголовок</h1>` — главный заголовок страницы;
- `<h2>Подзаголовок</h2>` — для заголовков второго уровня;
- `<h3>Заголовок третьего уровня</h3>` … и так далее, вплоть до `<h6>`;
- `<p>A paragraph of text</p>`
- `<em>текст</em>` подчёркивает ваш текст;
- `<strong>текст</strong>` — жирный шрифт;
- `<br />` — переход на следующую строку (внутрь br тега нельзя ничего поместить);
- `<a href="https://vectree.ru">link</a>` создаёт ссылку;
- `<ul><li>первый элемент</li><li>второй элемент</li></ul>` создаёт список, такой же как этот!
- `<div></div>` определяет раздел страницы.

Вот пример готового шаблона, скопруйте его содержимое в файл `blog/templates/blog/post_list.html`:

```html
<html>
    <head>
        <title>Vectree blog</title>
    </head>
    <body>
        <div>
            <h1><a href="/">Vectree Blog</a></h1>
        </div>

        <div>
            <p>published: 14.06.2014, 12:14</p>
            <h2><a href="">My first post</a></h2>
            <p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
        </div>

        <div>
            <p>published: 14.06.2014, 12:14</p>
            <h2><a href="">My second post</a></h2>
            <p>Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut f.</p>
        </div>
    </body>
</html>
```

Мы создали три `div` элемента:

- Первый элемент `div` содержит название блока, которое также является ссылкой.
- Два других `div` элемента содержат текст записи и дату публикации: `h2` тег с заголовком записи, который также является ссылкой, и два `p` (параграфа) с текстом, один для даты, а другой — для самого текста записи.

Это даст нам следующий эффект:

![Рисунок 11.4][4]

 [4]: https://user-images.githubusercontent.com/4215285/72189970-5301c480-340f-11ea-908f-01b19997a6f7.png

Ура! Однако до сих пор наш шаблон отображал лишь __одну и ту же информацию__ — тогда как раньше мы говорили, что шаблоны позволяют нам отображать __различную__ информацию в __одном и том же формате__.

Что мы действительно хотим, так это отображать существующие записи, добавленные через панель администратора Django; этим и займёмся в следующий раз.

### И ещё кое-что: публикация!

Хотелось бы увидеть всё это вживую в интернете, согласны? Давайте проведём еще одно развёртывание веб-сайта на PythonAnywhere.

### Commit и push кода в репозиторий GitHub

Во-первых, давайте посмотрим, какие файлы были изменены с момента последнего развёртывания (выполните эти команды локально, не на PythonAnywhere):

```bash
$ git status
```

Убедитесь, что находитесь в директории `vectree`, и попросите `git` выбрать все изменения в пределах папки:

```bash
$ git add --all .
```

> **Примечание**: `-all` («всё») означает, что `git` также обратит внимание на удалённые файлы (по умолчанию он отслеживает новые/изменённые файлы). Также помните (из третьей главы), что `.` означает текущую директорию.

Прежде чем мы загрузим файлы, давайте проверим, что именно `git` будет загружать (все файлы, который `git` готов отправить на сервер, отмечаются шрифтом зелёного цвета):

```bash
$ git status
```

Мы почти у цели, пришло время сохранить изменения в истории. К сохраняемой версии мы добавим небольшое сообщение, в котором кратко опишем изменения. Можете набрать в качестве сообщения всё, что захочите, однако полезно использовать информативную запись, так будет проще вспомнить внесённые изменения в будущем.

```bash
$ git commit -m "Changed the HTML for the site."
```

> __Примечание__: убедитесь, что используете двойные кавычки вокруг комментария.

После того, как мы сделали это, мы загрузим (заpush'им) изменения на GitHub:

```bash
$ git push
```

#### Загружаем новый код на PythonAnywhere и перезапускаем веб-приложение

* Откройте вкладку ["терминалы"][5] на PythonAnywhere и переключитесь на уже запущенную **консоль Bash** (или новую). Затем наберите следующую команду:

 [5]: https://www.pythonanywhere.com/consoles/

```bash
$ cd ~/<your-pythonanywhere-domain>.pythonanywhere.com
$ git pull
[...]
```

Можете обратить внимание, как ваш код будет загружаться на сервер. Если хотите проверить успешность процедуры — откройте вкладку **Файлы** и просмотрите свой код на PythonAnywhere.

* Наконец, переключитесь на вкладку [Web][6] и нажмите кнопку **Reload**.

 [6]: https://www.pythonanywhere.com/web_app_setup/

Обновления должны отобразиться на веб-сайте! Переключитесь на него и обновите страницу. Вы должны сразу заметить улучшения :)
