## Выделяйте ваши компоненты в отдельный слой, держите Express в его границах

**TL;DR:** Каждый компонент должен содержать "слои" -- выделенный объект для сети, логики и кода доступа к данным. Это не только четко разделяет задачи, но и значительно облегчает проверку и тестирование системы. Хотя это очень распространенный шаблон, разработчики API, как правило, смешивают слои, передавая объекты веб-слоя (Express req, res) в бизнес-логику и уровни данных - это делает ваше приложение зависимым и доступным только для Express.

**Иначе:** Приложение, которое смешивает веб-объекты с другими слоями, не может быть доступно для тестирования кода, заданий CRON и других вызовов в обход Express.

### Разделить код компонента на слои: веб, сервисы и DAL

![alt text](https://user-images.githubusercontent.com/4215285/74238546-1283b800-4ce7-11ea-9263-571c1d37f2dd.png "Separate component code into layers")

### 1 минутное объяснение: обратная сторона смешения слоев

![alt text](https://user-images.githubusercontent.com/4215285/74238642-4068fc80-4ce7-11ea-9530-f176ba97bdff.gif "The downside of mixing layers")