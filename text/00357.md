## Собираем всех вместе

*   **Модули** содержат специфичные части функциональности вашего приложения.
    Они публикуют уведомления, информирующие приложение о том, что случилось
    что-то интересное. Это их главная забота. Как я поясню в FAQ, модули
    могут зависеть от различных вспомогательных методов для работы с DOM, но
    идеальным бы было отсутствие любых зависимостей от других компонентов
    системы. Модули не должны иметь отношение к тому:

    *   какие объекты или модули подписаны на их сообщения,
    *   где находятся эти объекты (на клиенте или на сервере),
    *   какое количество объектов подписано на уведомления.

**![][9]**

*   **Фасад** — абстракция ядра защищающая его от прямого контакта
    с модулями. Он подписывается на интересные сообщения от модулей, и говорит:
    «Отлично! Что случилось? Расскажи мне больше подробностей!». Так же фасад
    поддерживает безопасность модулей, проверяя, действительно ли модуль,
    отправивший сообщение, имеет необходимые права для того, чтобы его сообщение
    было соответствующим образом обработано ядром.

**![][10]**

*   **Медиатор (ядро приложения)** выступает в роли управляющего публикациями
    событий и подписками на них. Он отвечает за управление запуском и остановку
    модулей по необходимости. Здесь используется частичная динамическая загрузка
    зависимостей, и гарантия того, что упавшие модули могут быть централизованно
    перезапущены в случае проблем.

**![][11]**

Итог этой архитектуры в том, что модули, в большинстве случаев, практически
не зависят от других компонентов приложения. Они могут быть легко тестируемы
и легко поддерживаемы в рамках своего кода. Кроме того, благодаря низкому уровню
связанности кода, такие модули можно легко скопировать на новую страницу для
использования в другом проекте, не прилагая дополнительных усилий. Так же, эти
модули могут быть загружены или удалены динамически в процессе работы приложения.


[9]: https://user-images.githubusercontent.com/4215285/76654845-00629700-657d-11ea-9c37-7a0f65530022.png
[10]: https://user-images.githubusercontent.com/4215285/76654849-035d8780-657d-11ea-92c7-4cf6dace380b.png
[11]: https://user-images.githubusercontent.com/4215285/76654855-06f10e80-657d-11ea-81d3-12c1fbfa528b.png